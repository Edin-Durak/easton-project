---
import { Image } from 'astro:assets';
import logo from '../assets/images/logo.svg';

const currentYear = new Date().getFullYear();
---

<footer class="footer">
    <div class="footer__inner container">
        <div class="footer__logo">
            <a href="/">
                <Image src={logo} alt="Easton Project Logo" width={100} height={100} loading="lazy" />
            </a>
        </div>
        
        <div class="footer__center">
            <div class="footer__contact">
                <a href="mailto:eastonprojectmtl@gmail.com" class="footer__email">
                    eastonprojectmtl@gmail.com
                </a>
                <address class="footer__address">
                    25-3360 rue Notre-Dame<br>
                    Montréal (Québec) H8T3E2<br>
                    Canada
                </address>
            </div>
        </div>
        
        <div class="footer__nav">
            <nav class="footer__nav-list">
                <a href="/" class="footer__nav-link" data-page="home">Home</a>
                <a href="/about" class="footer__nav-link" data-page="about">About</a>
                <a href="/contact" class="footer__nav-link" data-page="contact">Contact</a>
            </nav>
        </div>
    </div>
    
    <div class="footer__bottom">
        <div class="container">
            <p class="footer__copyright">
                © {currentYear} Easton Project. All rights reserved.
            </p>
        </div>
    </div>
</footer>

<script>
    // Active navigation link functionality
    function setActiveNavLink() {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('[data-page]');
        
        navLinks.forEach(link => {
            const linkPath = link.getAttribute('href');
            const linkPage = link.getAttribute('data-page');
            
            // Remove active class from all links
            link.classList.remove('active');
            
            // Add active class to current page link
            if (linkPath === currentPath || (currentPath === '/' && linkPage === 'home')) {
                link.classList.add('active');
            }
        });
    }

    // Set active link on page load
    setActiveNavLink();
</script>